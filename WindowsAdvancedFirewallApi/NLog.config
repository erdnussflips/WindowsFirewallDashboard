<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.nlog-project.org/schemas/NLog.xsd NLog.xsd"
	autoReload="true"
	throwExceptions="true"
	internalLogLevel="Off" internalLogFile="c:\temp\nlog-internal.log" >

	<!-- optional, add some variables
	https://github.com/nlog/NLog/wiki/Configuration-file#variables
	-->
	<!--<variable name="myvar" value="myvalue"/>-->

	<!--
	See https://github.com/nlog/nlog/wiki/Configuration-file
	for information on customizing logging rules and outputs.
	-->
	<targets>
		<!--
		add your targets here
		See https://github.com/nlog/NLog/wiki/Targets for possible targets.
		See https://github.com/nlog/NLog/wiki/Layout-Renderers for the possible layout renderers.s
		-->

		<!-- Writing events to the a file with the date in the filename. -->
		<!--<target xsi:type="File" name="f" fileName="${basedir}/logs/${shortdate}.log" layout="${longdate} ${uppercase:${level}} ${message}" />-->
		<!--<target xsi:type="Console" name="console" layout="${longdate} ${pad:padding=-7:inner=[${uppercase:${level}}]} ${callsite}[${callsite-linenumber}]: ${message} ${onexception:inner=${newline}${exception:format=Message}${newline}${exception:format=StackTrace}}" />-->
		<target xsi:type="SplitGroup" name="all">
			<target name="console"
					xsi:type="Console"
					layout="${longdate} ${pad:padding=-7:inner=[${uppercase:${level}}]} ${callsite}[${callsite-linenumber}]: ${message}" />

			<target name="file"
					xsi:type="File"
					layout="${longdate} ${pad:padding=-7:inner=[${uppercase:${level}}]} ${callsite}[${callsite-linenumber}]: ${message}"
					fileName="${basedir}/logging/logs/${shortdate}.log"
					archiveNumbering="Date"
					archiveEvery="Day"
					archiveDateFormat="yyyyMMdd"
					maxArchiveFiles="7"
					concurrentWrites="true"
					keepFileOpen="true"
					encoding="utf-8" />
			</target>
	</targets>

	<rules>
		<!-- add your logging rules here -->

		<!-- Write all events with minimal level (Trace, Debug, Info, Warn, Error, Fatal) -->
		<logger name="*" minlevel="Trace" writeTo="all" />
	</rules>
</nlog>